<div class="header">
    <h1 mat-dialog-title>{{title}}</h1>
    <button (click)="oncloseDialog()" pButton pRipple type="button" icon="pi pi-times" class="p-button-rounded p-button-danger p-button-outlined"></button>
</div>
<mat-dialog-content #formulaire>
    <form [formGroup]="commandeForm">
        <div class="row mt-2">
            <div class="col-md-12 col-sm-12">
                <div class="form-group">
                    <input type="text" pInputText class="col-12" placeholder="Référence" formControlName="">
                </div>
            </div>
            <div class="col-md-12">
                <div class="form-group">
                    <div class="form-group">
                        <p-dropdown [options]="contacts" optionLabel="fullName" placeholder="Contact" [style]="{'width': '100%'}" [appendTo]="formulaire" formControlName="contact"></p-dropdown>
                    </div>
                </div>
            </div>
            <div class="col-md-12" formArrayName="articles" *ngFor="let control of articlesForm.controls; let i = index">
                <div class="row" [formGroupName]="i">
                    <div class="col-md-6 col-sm-12">
                        <div class="form-group">
                            <p-dropdown [options]="articles" optionLabel="libelle" placeholder="Articles" [style]="{'width': '100%'}" [appendTo]="formulaire" formControlName="article">
                            </p-dropdown>
                        </div>
                    </div>
                    <div class="col-md-5 col-sm-12">
                        <div class="form-group">
                            <input type="number" pInputText class="col-12" placeholder="qté" formControlName="qte">
                        </div>
                    </div>
                    <div class="col-md-1 col-sm-12" style="justify-content: space-between;">
                        <button style="float: right;" pButton pRipple type="button" icon="pi pi-times" (click)="removeArticleFormCommande(i)" class="p-button-rounded p-button-outlined p-button-danger">
                        </button>
                    </div>
                </div>
            </div>
            <div class="col-md-12 mb-4" style="text-align: center; cursor: pointer;">
                <small (click)="addArticleForm()" class="text-success">Ajouter un article</small>
            </div>
            <div class="col-md-12" *ngIf="typeOperation === 'update'">
                <div class="form-group">
                    <p-dropdown [options]="etatOptions" optionLabel="label" optionDisabled="disabled" placeholder="Etat" [style]="{'width': '100%'}" [appendTo]="formulaire" formControlName="etat">
                    </p-dropdown>
                </div>
            </div>
        </div>
    </form>
</mat-dialog-content>
<mat-dialog-actions align="end">
    <button (click)="oncloseDialog()" pButton pRipple type="button" label="Annuler" icon="pi pi-times" iconPos="right" class="p-button-text p-button-danger mr-2"></button>
    <button [disabled]="!commandeForm.valid" (click)="onsaveCommande()" pButton pRipple type="button" [label]="buttonLabel" icon="pi pi-check" iconPos="right" class="p-button-text"></button>
</mat-dialog-actions>